# ì œë„¤ë¦­ (Generic)
ì œë„¤ë¦­ì´ë€ íƒ€ì…ì„ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ”ê±¸ ì˜ë¯¸í•œë‹¤.  
C#, Javaì™€ ê°™ì€ ì–¸ì–´ì—ì„œ ì¬ì‚¬ìš©ì„±ì´ ë†’ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ ìì£¼ í™œìš©ëœë‹¤.  

## ì œë„¤ë¦­ì€ ì™œì“¸ê¹Œ?
ì´ìœ ëŠ” ì•„ë˜ì—ì„œ ì„¤ëª…í•˜ê¸°ë¡œ í•˜ê³   
ìš°ì„  ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ì•„ë˜ì™€ ê°™ì€ í•¨ìˆ˜ê°€ ìˆë‹¤ê³  ìƒê°í•´ë³¸ë‹¤.
```javascript
function getFirstElement(arr) {
    if (!Array.isArray(arr)) {
        throw new Error('ë°°ì—´ì´ ì•„ë‹˜!');
    }
    if (arr.length === 0) {
        throw new Error('ë°°ì—´ì´ ë¹„ì–´ìˆìŒ!');
    }
    return arr[0] ? arr[0] : null; 
}
```
- ì´ í•¨ìˆ˜ëŠ” ë¬¸ìì—´ì˜ ë°°ì—´ì„ ë„˜ê¸°ë©´ ë¬¸ìì—´ íƒ€ì…ì„ ë¦¬í„´í•œë‹¤.
- ë§Œì•½ ìˆ«ì ë°°ì—´ì„ ë„˜ê¸°ë©´ ìˆ«ì íƒ€ì…ì„ ë¦¬í„´í•œë‹¤.

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ìœ„ì˜ í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤ë©´ `ì˜¤ë²„ë¡œë”©`ì„ ì‚¬ìš©í•´ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
```typescript
function getFirstElement(arr: number[]): number;
function getFirstElement(arr: string[]): string;
function getFirstElement(arr: any) {
    if (!Array.isArray(arr)) {
        throw new Error('ë°°ì—´ì´ ì•„ë‹˜!');
    }
    if (arr.length === 0) {
        throw new Error('ë°°ì—´ì´ ë¹„ì–´ìˆìŒ!');
    }
    return arr[0] ? arr[0] : null; 
}
```
```typescript
const strElement = getFirstElement(['1','2']);
typeof strElement; // string

const numElement = getFirstElement([1, 2]);
typeof numElement; // number
```
- ìœ„ì˜ `getFirstElement()`ëŠ” `number`, `string` íƒ€ì…ì˜ ì…ë ¥ê°’ì— ëŒ€ì‘í•  ìˆ˜ ìˆê²Œëë‹¤.
- í•˜ì§€ë§Œ ê·¸ ì™¸ì˜ íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë„£ëŠ”ë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
```typescript
const hybridElement = getFirstElement([true, false]); // ERRORR! ì¼ì¹˜í•˜ëŠ” ì˜¤ë²„ë¡œë“œê°€ ì—†ìŒ
``` 
- ìœ„ì²˜ëŸ¼ ë‹¤ë¥¸ íƒ€ì…ì—ë„ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ë ¤ë©´ í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ê°œ ì˜¤ë²„ë¡œë”© í•´ì•¼í• ê¹Œ?  
ğŸ‘‰ ì „í˜€ ì¢‹ì€ìƒê°ì´ ì•„ë‹ˆë‹¤.  
ğŸ‘ í—¤ì•„ë¦´ ìˆ˜ ì—†ì„ ì •ë„ë¡œ ë§ì€ íƒ€ì…ì— ëŒ€í•œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.  

- ê·¸ëŸ¼ íƒ€ì…ì„ ë„£ì§€ë§ê³  `any`íƒ€ì…ì„ ë„£ëŠ”ê±´ ì–´ë–¨ê¹Œ?  
ğŸ‘‰ ì´ ì—­ì‹œ ì¢‹ì§€ ì•Šì€ ë°©ë²•ì´ë‹¤.  
ğŸ‘ ì •ìƒì ìœ¼ë¡œ ì‘ë™ì€ í•˜ê² ì§€ë§Œ, `íƒ€ì…ì •ë³´`ë¥¼ ìƒê¸° ë•Œë¬¸ì´ë‹¤.  

- ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ”ê²Œ ì¢‹ì€ ë°©ë²•ì¼ê¹Œ?  
ğŸ‘‰ ë‹µì€ ì´ë¯¸ ë‚˜ì™€ìˆë‹¤. `ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ëŠ”ê±°ë‹¤`.  
ğŸ‘ ê·¸ë ‡ê²Œ í•˜ë©´ ëª¨ë“  íƒ€ì…ì— ëŒ€ì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ `íƒ€ì…ì •ë³´`ë„ ìƒì§€ ì•ŠëŠ”ë‹¤.  
ğŸ‘ í•´ë‹¹ `íƒ€ì…ì •ë³´`ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ë•ŒëŠ” ì•Œ ìˆ˜ ì—†ì§€ë§Œ ì‚¬ìš©í• ë• ì•Œ ìˆ˜ ìˆê²Œëœë‹¤.

# ì œë„¤ë¦­ ì‚¬ìš©ë²•
## ì œë„¤ë¦­ íƒ€ì…ë³€ìˆ˜
[ë°©ê¸ˆ ë§í•œ](#ì œë„¤ë¦­ì€-ì™œì“¸ê¹Œ) íƒ€ì… ì •ë³´ëŠ” `íƒ€ì…ë³€ìˆ˜`ì— ë‹´ì„ ìˆ˜ ìˆë”°.  
ë¶€ë“±í˜¸ `<`ì™€ `>`ì‚¬ì´ì— ë³€ìˆ˜ëª…ì„ ê°ì‹¸ë©´ `íƒ€ì…ë³€ìˆ˜`ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.  
ì´ ê¸°í˜¸ì•ˆì— ì •ì˜ëœ `íƒ€ì…ë³€ìˆ˜`ì˜ íƒ€ì…ì€ í•¨ìˆ˜ë¡œ ê°’ì´ ë„˜ì–´ì˜¬ ë•Œ ê²°ì •ëœë‹¤.  

ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
```typescript
function [í•¨ìˆ˜ì´ë¦„]<[íƒ€ì…ë³€ìˆ˜]>(ì¸ìíƒ€ì…){} 
```
ì‹¤ì œë¡œ ì‚¬ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ëª¨ì–‘ì´ë‹¤.
```typescript
function getLength<T>(arr: T) {
    return arr.length;
}
```
```typescript
const numberArray: number[] = [1, 2, 3, 4, 5];
const arrayLength = getLength<number>(numberArray);
```
- í•˜ì§€ë§Œ ìœ„ì™€ê°™ì´ ì‘ì„±í•˜ë©´ ì—ëŸ¬ë¥¼ ë±‰ì–´ë‚¸ë‹¤.
- ![](https://velog.velcdn.com/images/song961003/post/d5038837-9cb5-4960-9fd0-4387dfb34a3d/image.png)

ë¶„ëª… **ëª¨ë“  íƒ€ì…ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ”** `ì œë„¤ë¦­ íƒ€ì… ë³€ìˆ˜`ë¥¼ ì‚¬ìš©í–ˆëŠ”ë°ë„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.  
íƒ€ì…ë³€ìˆ˜ Tê°€ ë°°ì—´ì´ë¼ëŠ” ë‹¨ì„œëŠ” ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.  
ë‹¤ì‹œ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.

```typescript
function getLength<T>(arr: T[]) {
    return arr.length;
}
```
- ì´ì œ íƒ€ì…ë³€ìˆ˜ Tê°€ ë°°ì—´ì´ë¼ê³  ì¶”ë¡ ì´ ê°€ëŠ¥í•˜ê¸°ë•Œë¬¸ì— ë”ì´ìƒ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

## ì œë„¤ë¦­ í•¨ìˆ˜
ì œë„¤ë¦­ íƒ€ì…ê³¼ ë¹„ìŠ·í•˜ë‹¤.  
ë¦¬í„´íƒ€ì…ì´ ë“¤ì–´ê°€ëŠ” ìë¦¬ì— `íƒ€ì…ë³€ìˆ˜`ë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤.  

ì´ì œ ë§¨ì²˜ìŒ `getFirstElement()` í•¨ìˆ˜ë¥¼ ì œë„¤ë¦­ í•¨ìˆ˜ë¡œ ê³ ì³ë³´ì.
```typescript
function getFirstElement<T>(arr: T[]): T {
    ...
}
```
```typescript
const strElement = getFirstElement(['1','2']);
typeof strElement;      // string

const numElement = getFirstElement([1, 2]);
typeof numElement;      // number

const booleanElement = getFirstElement([true, false]);
typeof booleanElement;  // boolean
```
- ì´ì œ `getFirstElement()` í•¨ìˆ˜ëŠ” `ì˜¤ë²„ë¡œë”©`ì—†ì´ ëª¨ë“  íƒ€ì…ì— ëŒ€ì‘í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤ !!
## ì œë„¤ë¦­ íƒ€ì…
íƒ€ì… ë³„ì¹­ì—ë„ ì—­ì‹œ ì œë„¤ë¦­ì˜ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.  
`getFirstElement()` í•¨ìˆ˜ì˜ íƒ€ì… ì •ì˜ëŠ” ì•„ë˜ì™€ê°™ì´ ê°€ëŠ¥í•˜ë‹¤.

```typescript
// 1ë²ˆì§¸ ë°©ë²•
interface GenericGetFirstElement {
    <T>(arr: T[]): T;
}
```
```typescript
// 2ë²ˆì§¸ ë°©ë²•
type GenericGetFirstElement = {
    <T>(arr: T[]): T;
}
```
```typescript
// ì´ëŸ°ì‹ìœ¼ë¡œ í•¨ìˆ˜ì˜ íƒ€ì… ì •ì˜ê°€ ê°€ëŠ¥í•˜ë‹¤!
const numberFunc: GenericGetFirstElement = getFirstElement;
const stringFunc: GenericGetFirstElement = getFirstElement;
```
- ìœ„ ë‘ê°€ì§€ `GenericGetFirstElement`ëŠ” ê°™ì€ ê¸°ëŠ¥ì„ í•œë‹¤.  

ë§Œì•½ ì¸ì íƒ€ì…ì„ ê°•ì¡°í•˜ê³ ì‹¶ë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤.
```typescript
// 1ë²ˆì§¸ ë°©ë²•
interface GenericGetFirstElement<T> {
    (arr: T[]): T;
}
```
```typescript
// 2ë²ˆì§¸ ë°©ë²•
type GenericGetFirstElement<T> = {
    (arr: T[]): T;
}
```
```typescript
const numberFunc: GenericGetFirstElement<number> = getFirstElement;
const stringFunc: GenericGetFirstElement<string> = getFirstElement;
```
## ì œë„¤ë¦­ í´ë˜ìŠ¤
í´ë˜ìŠ¤ë„ ë°”ë¡œ ì´ì „ì˜ [ì œë„¤ë¦­ íƒ€ì…](#ì œë„¤ë¦­-íƒ€ì…)ê³¼ ë¹„ìŠ·í•˜ë‹¤.
```typescript
class MyArray<T> {
    private array:T[] = [];
    public length = 0;

    push(element: T){
        this.array.push(element);
        this.length++;
    }
    pop(): T | undefined {
        if (this.length > 0) {
            this.length--;
        }
        return this.array.pop();
    }
}
```
```typescript
const numArray = new MyArray<number>();
numArray.push(1);   // OK!
numArray.push("1"); // ERROR! íƒ€ì…ì—ëŸ¬
```
> ğŸš¨ ì œë„¤ë¦­ íƒ€ì…ë³€ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ì¸¡ë©´ì—ì„œë§Œ ì ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.  
> ë§Œì•½ ì •ì  ë©¤ë²„ì— íƒ€ì…ë³€ìˆ˜ë¥¼ ì ìš©í•˜ë ¤ê³  í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

# ì œë„¤ë¦­ ì œì•½ì¡°ê±´
[ì œë„¤ë¦­ íƒ€ì…ë³€ìˆ˜](#ì œë„¤ë¦­-íƒ€ì…ë³€ìˆ˜)ì—ì„œì²˜ëŸ¼ ì œë„¤ë¦­ í•¨ìˆ˜ì— íŒíŠ¸ë¥¼ ì¤„ ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ë°©ë²•ì´ ìˆë‹¤.  
ì›ë˜ëŠ” ì•„ë˜ì²˜ëŸ¼ `T[]` ì´ëŸ°ì‹ìœ¼ë¡œ Tê°€ ë°°ì—´ì´ë¼ëŠ”ê±¸ ì•Œë ¤ì¤¬ë‹¤.
```typescript
function getLength<T>(arr: T[]) {
    ...
}
```

í•˜ì§€ë§Œ `extends`í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì›í•˜ëŠ” í”„ë¡œí¼í‹°ê°€ ìˆëŠ” íƒ€ì…ìœ¼ë¡œ ì œì•½ì¡°ê±´ì„ ì¤„ ìˆ˜ ìˆë‹¤.  
```typescript
interface LengthWise {
    length: number;
}
function getLength<T extends LengthWise>(arr: T) {
    ...
}
```
- ì´ë ‡ê²Œ ì´ì œ `getLength()` í•¨ìˆ˜ëŠ” ë°°ì—´ì´ ì•„ë‹ˆì–´ë„ `arr`ì˜ í”„ë¡œí¼í‹°ì— `length`ê°€ ìˆë‹¤ë©´ ê°’ì„ ë°›ì„ ìˆ˜ ìˆê²Œ ëë‹¤.

## ê°ì²´ì˜ ì†ì„± ì œì•½ë°©ë²•
ë‘ê°œì˜ ê°ì²´ë¥¼ ë¹„êµí• ë•Œë„ ì œë„¤ë¦­ ì œì•½ì¡°ê±´ì˜ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
```typescript
function getProperty<T, O extends keyof T>(obj: T, key: O) {
    return obj[key];
}
```
```typescript
const obj = {a: 1, b: 2, c: 3};

getProperty(obj, "a");  // OK!!
getProperty(obj, "b");  // OK!!
getProperty(obj, "d");  // ERROR!! 
```
ì œë„¤ë¦­ì„ ì„ ì–¸í•  ë•Œ OëŠ” Tì˜ `key` í”„ë¡œí¼í‹°ë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë”°.  
`'d'`ëŠ” `obj`ì˜ `key` ëª©ë¡ì— ì—†ê¸°ë•Œë¬¸ì— í•´ë‹¹ ì½”ë“œëŠ” ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œëœë‹¤.